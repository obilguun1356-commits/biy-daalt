<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Biy daalt</title>
<style>
body{margin:0;overflow:hidden;font-family:Arial}

#introScreen{
  width:100vw;height:100vh;
  display:flex;flex-direction:column;
  justify-content:center;align-items:center;
  background:linear-gradient(#a2dfff,#36e232);
  font-size:30px;
}
#startBtn{padding:15px 30px;font-size:20px}

#screen1{
  display:none;width:100vw;height:100vh;position:relative;
  background:url('https://i.pinimg.com/1200x/60/8b/03/608b034c42c6cc5a48d5259c2e5a8c9f.jpg') center/cover;
}
#butterfly{position:absolute;font-size:50px;left:0;top:50%}
#flyBtn{position:absolute;top:20px;left:20px}
#flower1{position:absolute;bottom:100px;right:200px;font-size:50px}
#nextBtn,#nextBtn2{
  display:none;position:absolute;top:50%;left:50%;
  transform:translate(-50%,-50%);
  padding:15px 30px;font-size:20px
}

#screen2{
  display:none;width:100vw;height:100vh;position:relative;
  background:linear-gradient(to bottom,#b2ffff 40%,#36e232 40%);
}
#pen{
  position:absolute;right:40px;bottom:40px;
  width:200px;height:200px;
  border:8px solid #654321;background:#8B5A2B;
}
.sheep{
  width:60px;height:40px;background:white;
  border-radius:30px;position:absolute;cursor:pointer;
}
.sheep::before{
  content:'';position:absolute;right:-8px;top:5px;
  width:25px;height:25px;background:#333;border-radius:50%;
}

#endScreen{
  display:none;width:100vw;height:100vh;
  background:url('https://i.pinimg.com/736x/a8/ea/d2/a8ead2ed4714ae47be6ec8c6ce7c5d7f.jpg') center/cover;
}
</style>
</head>
<body>

<div id="introScreen">
  <div>–°–∞–π–Ω –±–∞–π–Ω–∞ —É—É? –ù–∞–º–∞–π–≥ –û.–ë–∏–ª–≥“Ø“Ø–Ω –≥—ç–¥—ç–≥. –ú–∏–Ω–∏–π –±–∏–µ –¥–∞–∞–ª—Ç—Ç–∞–π —Ç–∞–Ω–∏–ª—Ü–∞–Ω–∞ —É—É?</div>
  <button id="startBtn">EHLEH</button>
</div>

<div id="screen1">
  <div id="butterfly">ü¶ã</div>
  <button id="flyBtn">Niseh</button>
  <div id="flower1">üå∏</div>
  <button id="nextBtn">NEXT</button>
</div>

<div id="screen2">
  <div id="pen"></div>
  <button id="nextBtn2">NEXT</button>
</div>

<div id="endScreen"></div>

<script>
const intro=document.getElementById("introScreen");
const screen1=document.getElementById("screen1");
const screen2=document.getElementById("screen2");
const endScreen=document.getElementById("endScreen");

startBtn.onclick=()=>{intro.style.display="none";screen1.style.display="block";}

flyBtn.onclick=()=>{
 let f=0;
 let id=setInterval(()=>{
   f++;
   butterfly.style.left=f+"px";
   if(f>window.innerWidth-100){
     clearInterval(id);
     nextBtn.style.display="block";
   }
 },5);
}

nextBtn.onclick=()=>{
 screen1.style.display="none";
 screen2.style.display="block";
 createSheep();
}

const totalSheep=15;
let sheepList=[];
const pen=document.getElementById("pen");
const nextBtn2=document.getElementById("nextBtn2");

function createSheep(){
 sheepList=[];
 for(let i=0;i<totalSheep;i++){
   let s=document.createElement("div");
   s.className="sheep";

   let x=Math.random()*(window.innerWidth-300);
   let y=window.innerHeight*0.45+Math.random()*(window.innerHeight*0.45);

   s.style.left=x+"px";
   s.style.top=y+"px";

   s.dragging=false;
   s.inPen=false;
   screen2.appendChild(s);
   sheepList.push(s);

   s.onmousedown=e=>{
     if(s.inPen)return;
     s.dragging=true;
     let ox=e.offsetX,oy=e.offsetY;

     document.onmousemove=ev=>{
       s.style.left=ev.clientX-ox+"px";
       s.style.top=ev.clientY-oy+"px";
     }
     document.onmouseup=()=>{
       document.onmousemove=null;
       s.dragging=false;
       checkSheep();
     }
   }
 }
}

function checkSheep(){
 let count=0;
 sheepList.forEach(s=>{
   let sr=s.getBoundingClientRect();
   let pr=pen.getBoundingClientRect();
   if(!s.inPen &&
      sr.left>pr.left && sr.right<pr.right &&
      sr.top>pr.top && sr.bottom<pr.bottom){
        s.inPen=true;
        count++;
   }
   if(s.inPen)count++;
 });
 if(count>=totalSheep)nextBtn2.style.display="block";
}

nextBtn2.onclick=()=>{
 screen2.style.display="none";
 endScreen.style.display="block";
}
</script>
</body>
</html>
